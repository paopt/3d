右手法则旋转
右手握拳，大拇指指向旋转轴正方向，其余几个手指就是旋转方向， 成为正旋转，角度为正值。
也是逆时针旋转，观察者站在旋转轴正方向，看向负方向，看到的物体就是逆时针旋转。


webgl中的矩阵是列主序的


webgl坐标系
齐次坐标(x,y,z,w), 取值(0, 1), w为1表示三维坐标，方便矩阵运算
原点在中心
x => 右
y => 上
z => 屏幕向外

canvas坐标原点在左上角

渲染过程
position => 顶点着色器 => 图元装配(几何图形) => 光栅化(根据集合图形，生成片元/像素) => 内插(varying变量) => 片元着色器

顶点变换，模型矩阵 * position

## 着色器内置变量：


函数：
clamp(a, b, c) 求中间值
mix(color1, color2, percent), 插值
distance(v1, v1), 顶点距离

片元着色器
gl_FragCoord, 片元坐标
gl_PointCoord，当点的尺寸大于一个像素时 片元在被绘制的点内的坐标(0-1.0)
discard，丢弃片元


## 纹理
纹素：组成图像的每个像素
纹素 => 片元, 映射
顶点坐标 === 纹理坐标
纹理坐标st，左下角为坐标原点(0, 0), s向右(0-1), 向上(0-1)
顶点着色器传入纹理坐标， 片元着色器，传入纹理单元，根据纹理坐标提取纹素赋给片元。

## 三维
### 观察者
改变观察者的状态，和对整个世界进行平移和旋转本质上是一样的。
视点、观察点、上方向表达观察者状态
视图矩阵 * 模型矩阵 * 

### 可视空间：
投影矩阵 * 顶点坐标
1. 正射投影， 盒状空间, ortho
(left, right, top, bottom, near, far)，
canvas上显示的就是可视空间内的物体，在近裁剪面上的投影

2. 透视投影， 金字塔
perspective(fov, aspect, near, far)
fov，垂直视角，可视空间顶面与底面的夹角
aspect， 宽高比
near，far， 近、远裁剪面


投影矩阵 * 视图矩阵 * 模型矩阵 * 顶点坐标

### 前后关系
webgl默认按照顶点在缓冲区内的前后关系绘制，不考虑z深度，后面绘制的覆盖前面的

解决：隐藏面消除
gl.enable(gl.DEPTH_TEST) // 开启隐藏面消除功能
gl.clear(gl.DEPTH_BUFFER_BIT) // 清除深度缓冲区
绘制任一帧前，必须清除颜色缓冲区，深度缓冲区

### 深度冲突
顶点接近，斑斑驳驳的效果

解决：多边形偏移

在Z轴增加一个偏移量


drawElements， 利用顶点索引
drawArrays


## 光照

明暗程度， 立体感
阴影

着色：根据光照条件重建物体各表面明暗不一的效果

漫反射：反射光在各个方向上是均匀的
漫反射光颜色 = 入射光 * 表面基底色 * cos(angle)
环境反射 = 入射光 * 表面基底色

漫反射与环境反射同时存在时：漫反射光颜色 + 环境反射

### 法线
表面法向量取决于顶点顺序，从正面看，顶点顺时针。反面看，逆时针






